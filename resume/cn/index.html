<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <title>简历 - 吴迪</title>
  <script src="https://unpkg.com/@webcomponents/webcomponentsjs@latest/webcomponents-loader.js"></script>
  <script type="module" src="../js/wdr-resume.js"></script>
</head>

<body>
  <script type="module">
    import { LitElement, html, css } from 'https://unpkg.com/lit-element/lit-element.js?module'
    class WdrLoader extends LitElement {
      static get properties() {
        return { resume: { type: Object } }
      }

      static get styles() {
        return css`
          .loading {
            height: 100%;
            width: 100%;
          }
          wdr-resume {
            font-family: 'Microsoft Yahei','Hiragino Sans GB','Heiti SC','WenQuanYi Micro Hei', 'Times New Roman', Georgie, Arial, Helvetica, sans-serif;
          }
          `
      }

      constructor() {
        super()
        this.resume = null
      }

      firstUpdated() {
        fetch(new Request('resume.json')).then((resp) => resp.json()).then((data) => {
          this.resume = data
        })
      }

      render() {
        return html`${this.resume ?
          html`<wdr-resume .resume="${this.resume}"></wdr-resume>` :
          html`<div class="loading">···</div>`
          }`
      }
    }
    customElements.define('wdr-loader', WdrLoader)
  </script>
  <wdr-loader></wdr-loader>
</body>

</html>
